"use strict";(self.webpackChunkitaap_ms_manager=self.webpackChunkitaap_ms_manager||[]).push([[645],{6646:(b,d,r)=>{r.d(d,{z:()=>p});var u=r(8256),m=r(529),e=r(2543);class p{constructor(n,o){this.httpClient=n,this.constants=o}getVariableGroups(){return this.httpClient.get(this.constants.hostname+"getAllVariableGroups?organization="+this.constants.org+"&api-version="+this.constants.apiV,this.constants.headerOptions)}fetchVariablesFromGroup(n){let o=this.constants.hostname+"getVariableUsingGroupName?groupName="+n+"&organization="+this.constants.org+"&api-version="+this.constants.apiV;return console.log("url : "+o),this.httpClient.get(o,this.constants.headerOptions)}sendVarGrpForApproval(n){return this.httpClient.post(this.constants.hostname+"routeToApproval",n,this.constants.headerOptions)}getRequests(n){return this.httpClient.get(this.constants.hostname+"fetchRequests/"+n,this.constants.headerOptions)}approveRequest(n){return this.httpClient.post(this.constants.hostname+"approveRequest",n,this.constants.headerOptions)}rejectRequest(n){return this.httpClient.post(this.constants.hostname+"rejectRequest",n,this.constants.headerOptions)}getTasksAssignedToSelf(n){return this.httpClient.get(this.constants.hostname+"user/tasks/userId?userId="+n,this.constants.headerOptions)}getMyRequests(n){return this.httpClient.get(this.constants.hostname+"my-requests/"+n,this.constants.headerOptions)}}p.\u0275fac=function(n){return new(n||p)(u.LFG(m.eN),u.LFG(e.g))},p.\u0275prov=u.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})},645:(b,d,r)=>{r.r(d),r.d(d,{CompareRoutingModule:()=>c});var u=r(2386),m=r(805),e=r(8256),p=r(6646),g=r(433),n=r(3111),o=r(6125),T=r(3631),y=r(3930);function G(a,t){1&a&&(e.TgZ(0,"tr")(1,"th",11),e._uU(2,"Value"),e.qZA(),e.TgZ(3,"th",12),e._uU(4,"Name "),e._UZ(5,"p-columnFilter",13),e.qZA()())}function V(a,t){if(1&a&&(e.TgZ(0,"tr")(1,"td",14,15),e._uU(3),e.qZA(),e.TgZ(4,"td",14),e._uU(5),e.qZA()()),2&a){const s=t.$implicit;e.xp6(3),e.Oqu(s.value),e.xp6(2),e.hij(" ",s.key," ")}}function Z(a,t){1&a&&(e.TgZ(0,"tr")(1,"td",16),e._uU(2,"No variables found."),e.qZA()())}const f=function(){return{"table-layout":"fixed"}},C=function(){return["key"]};function M(a,t){if(1&a&&(e.TgZ(0,"div",6)(1,"p-table",7),e.YNc(2,G,6,0,"ng-template",8),e.YNc(3,V,6,2,"ng-template",9),e.YNc(4,Z,3,0,"ng-template",10),e.qZA()()),2&a){const s=e.oxw();e.xp6(1),e.Q6J("value",s.firstVariables)("resizableColumns",!0)("rowHover",!0)("scrollable",!0)("tableStyle",e.DdM(6,f))("globalFilterFields",e.DdM(7,C))}}function S(a,t){1&a&&(e.TgZ(0,"tr")(1,"th",12),e._uU(2,"Name "),e._UZ(3,"p-columnFilter",13),e.qZA(),e.TgZ(4,"th",11),e._uU(5,"Value"),e.qZA()())}function A(a,t){if(1&a&&(e.TgZ(0,"tr")(1,"td",14),e._uU(2),e.qZA(),e.TgZ(3,"td",14,15),e._uU(5),e.qZA()()),2&a){const s=t.$implicit;e.xp6(2),e.hij(" ",s.key," "),e.xp6(3),e.Oqu(s.value)}}function z(a,t){1&a&&(e.TgZ(0,"tr")(1,"td",16),e._uU(2,"No variables found."),e.qZA()())}function O(a,t){if(1&a&&(e.TgZ(0,"div",6)(1,"p-table",7,17),e.YNc(3,S,6,0,"ng-template",8),e.YNc(4,A,6,2,"ng-template",9),e.YNc(5,z,3,0,"ng-template",10),e.qZA()()),2&a){const s=e.oxw();e.xp6(1),e.Q6J("value",s.secondVariables)("resizableColumns",!0)("rowHover",!0)("scrollable",!0)("tableStyle",e.DdM(6,f))("globalFilterFields",e.DdM(7,C))}}const F=function(){return{height:"80vh"}};class h{constructor(t,s){this.azureService=t,this.messageService=s,this.allVariableGrpsList=[],this.firstVariables=[],this.secondVariables=[],this.response={name:"",secrets:0,variableValues:[]}}ngOnInit(){this.getVariableGroups()}getVariableGroups(){this.azureService.getVariableGroups().subscribe(t=>{this.handleSuccessfulResponse(t),this.messageService.add({key:"success",severity:"success",summary:"Success",detail:"Successfully Fetched "+this.allVariableGrpsList.length+" Variable Groups"})},t=>{this.messageService.add({key:"retry",severity:"error",sticky:!0,summary:t.statusText,detail:t.message})})}handleSuccessfulResponse(t){this.allVarGrp=t.value;let s=[];for(let l=0;l<t.value.length;l++)s.push({name:t.value[l].name,id:t.value[l].id});this.allVariableGrpsList=s}filterGroups(t,s){const l=[],i=t.query;for(let _=0;_<this.allVariableGrpsList.length;_++){const v=this.allVariableGrpsList[_];-1!=v.name.toLowerCase().indexOf(i.toLowerCase())&&l.push(v)}1==s?this.filteredFirstGroup=l:this.filteredSecondGroup=l}onSelectGrp(t){let s;s=1==t?this.firstGroup.name:this.secondGroup.name,this.azureService.fetchVariablesFromGroup(s).subscribe(l=>this.receivedVariables(l,t),l=>{this.messageService.add({key:"retry",severity:"error",summary:l.statusText,detail:l.message})})}receivedVariables(t,s){1==s?this.firstVariables=t.variableValues:this.secondVariables=t.variableValues}}h.\u0275fac=function(t){return new(t||h)(e.Y36(p.z),e.Y36(m.ez))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-compare"]],features:[e._Bn([m.ez,m.YP])],decls:10,vars:11,consts:[[1,"grid","p-fluid"],[1,"col-6"],["field","name",3,"ngModel","suggestions","dropdown","showEmptyMessage","ngModelChange","completeMethod","onSelect"],[1,"col-12"],["styleClass","mb-5"],["pTemplate",""],[1,"col","flex"],["styleClass","p-datatable-sm",3,"value","resizableColumns","rowHover","scrollable","tableStyle","globalFilterFields"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pResizableColumn","",2,"width","90%"],["pResizableColumn","",2,"width","40%"],["type","text","field","key","display","menu"],[1,"textOverflow"],["variableValue",""],["colspan","2"],["dt",""]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p-autoComplete",2),e.NdJ("ngModelChange",function(i){return s.firstGroup=i})("completeMethod",function(i){return s.filterGroups(i,1)})("onSelect",function(){return s.onSelectGrp(1)}),e.qZA()(),e.TgZ(3,"div",1)(4,"p-autoComplete",2),e.NdJ("ngModelChange",function(i){return s.secondGroup=i})("completeMethod",function(i){return s.filterGroups(i,2)})("onSelect",function(){return s.onSelectGrp(2)}),e.qZA()(),e.TgZ(5,"div",3)(6,"p-scrollPanel")(7,"p-splitter",4),e.YNc(8,M,5,8,"ng-template",5),e.YNc(9,O,6,8,"ng-template",5),e.qZA()()()()),2&t&&(e.xp6(2),e.Q6J("ngModel",s.firstGroup)("suggestions",s.filteredFirstGroup)("dropdown",!0)("showEmptyMessage",!0),e.xp6(2),e.Q6J("ngModel",s.secondGroup)("suggestions",s.filteredSecondGroup)("dropdown",!0)("showEmptyMessage",!0),e.xp6(2),e.Akn(e.DdM(10,F)))},dependencies:[g.JJ,g.On,m.jx,n.q,o.iA,o.Q7,o.xl,T.Qc,y.P],encapsulation:2});const x=[{path:"",component:h}];class c{}c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({imports:[u.Bz.forChild(x),u.Bz]})}}]);
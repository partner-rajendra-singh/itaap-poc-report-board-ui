(self.webpackChunkitaap_ms_manager=self.webpackChunkitaap_ms_manager||[]).push([[197],{8173:(N,B,s)=>{"use strict";s.r(B),s.d(B,{BuildsRoutingModule:()=>M});var C=s(2386),g=s(805),e=s(8256),_=s(5340),D=s(9846),f=s(7656),m=s(6895),v=s(433),T=s(4247),c=s(585),a=s(5593),u=s(3608),r=s(1740),d=s(5108),P=s(2453),A=s(2435),x=s(8235),w=s(6679),b=s(2210),h=s(540),S=s(4323),k=s(8676),I=s(2174),E=s(9073);function R(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"button",21),e.NdJ("click",function(l){e.CHM(t);const p=e.oxw(),y=e.MAs(20);return e.KtG(p.overlayToggle(l,y))}),e.qZA()()}}function U(n,o){if(1&n&&(e.TgZ(0,"span",39),e._UZ(1,"i",40),e.qZA()),2&n){const t=o.$implicit;e.Udp("background-color",t.color),e.xp6(1),e.s9C("pTooltip",t.result),e.Q6J("ngClass",t.icon)}}function J(n,o){if(1&n&&(e.TgZ(0,"span",41),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.name)}}function L(n,o){1&n&&e._UZ(0,"p-tag",26),2&n&&e.s9C("value",o.$implicit.identifier)}function F(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-accordionTab",22)(1,"div",23)(2,"div",24)(3,"div",25)(4,"p-timeline",26),e.YNc(5,U,2,4,"ng-template",27),e.YNc(6,J,2,1,"ng-template",28),e.YNc(7,L,1,1,"ng-template",29),e.qZA(),e._UZ(8,"p-divider",30),e.qZA()(),e.TgZ(9,"div",31)(10,"div",0)(11,"div",32)(12,"div",33)(13,"span",34),e._uU(14,"Generate Documents"),e.qZA()(),e.TgZ(15,"div",25)(16,"button",35),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.generateDocument("IQ"))}),e.qZA(),e.TgZ(17,"button",36),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.generateDocument("IQ_verify"))}),e.qZA()(),e.TgZ(18,"div",25)(19,"button",37),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.generateDocument("PIQ"))}),e.qZA(),e.TgZ(20,"button",38),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.generateDocument("PIQ_verify"))}),e.qZA()()()()()()()}if(2&n){const t=o.$implicit,i=e.oxw();e.Q6J("header",t.name),e.xp6(4),e.Q6J("value",i.selectedRunTimeline)}}const Q=function(){return{height:"6px"}};function q(n,o){1&n&&e._UZ(0,"p-progressBar",63),2&n&&e.Akn(e.DdM(2,Q))}function O(n,o){if(1&n&&e._uU(0),2&n){const t=e.oxw(2);e.hij(" ",t.fetchedMicroservice.name," ")}}function Y(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"input",64),e.NdJ("ngModelChange",function(l){e.CHM(t);const p=e.oxw(2);return e.KtG(p.fetchedMicroservice.name=l)}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngModel",t.fetchedMicroservice.name)}}function H(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.fetchedMicroservice.techLead.name)}}function G(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",65),e.NdJ("ngModelChange",function(l){e.CHM(t);const p=e.oxw(2);return e.KtG(p.fetchedMicroservice.techLead=l)}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("options",t.allTechLeads)("ngModel",t.fetchedMicroservice.techLead)}}function j(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.fetchedMicroservice.scrumMaster.name)}}function K(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",66),e.NdJ("ngModelChange",function(l){e.CHM(t);const p=e.oxw(2);return e.KtG(p.fetchedMicroservice.scrumMaster=l)}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("options",t.allScrumMasters)("ngModel",t.fetchedMicroservice.scrumMaster)}}function z(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.fetchedMicroservice.developer.name)}}function $(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",67),e.NdJ("ngModelChange",function(l){e.CHM(t);const p=e.oxw(2);return e.KtG(p.fetchedMicroservice.developer=l)}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("options",t.allDevelopers)("ngModel",t.fetchedMicroservice.developer)}}function V(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.fetchedMicroservice.backup.name)}}function W(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",68),e.NdJ("ngModelChange",function(l){e.CHM(t);const p=e.oxw(2);return e.KtG(p.fetchedMicroservice.backup=l)}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("options",t.allDevelopers)("ngModel",t.fetchedMicroservice.backup)}}function X(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.fetchedMicroservice.poc.name)}}function ee(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",69),e.NdJ("ngModelChange",function(l){e.CHM(t);const p=e.oxw(2);return e.KtG(p.fetchedMicroservice.poc=l)}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("options",t.allClients)("ngModel",t.fetchedMicroservice.poc)}}function te(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.getConvertedDate(t.fetchedMicroservice.targetCompletionDate))}}function oe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-calendar",70),e.NdJ("ngModelChange",function(l){e.CHM(t);const p=e.oxw(2);return e.KtG(p.fetchedMicroservice.targetCompletionDate=l)}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("minDate",t.todayDate)("showIcon",!0)("ngModel",t.fetchedMicroservice.targetCompletionDate)}}function ne(n,o){if(1&n){const t=e.EpF();e.YNc(0,q,1,3,"p-progressBar",42),e.TgZ(1,"h5"),e._uU(2,"Microservice Details"),e.qZA(),e.TgZ(3,"div",43)(4,"div",44)(5,"label",45),e._uU(6,"Microservice Name"),e.qZA(),e.TgZ(7,"p-inplace",46),e.YNc(8,O,1,1,"ng-template",47),e.YNc(9,Y,1,1,"ng-template",28),e.qZA()(),e.TgZ(10,"div",48)(11,"label",49),e._uU(12,"Tech Lead"),e.qZA(),e.TgZ(13,"p-inplace",50),e.YNc(14,H,2,1,"ng-template",47),e.YNc(15,G,1,2,"ng-template",28),e.qZA()(),e.TgZ(16,"div",48)(17,"label",51),e._uU(18,"Scrum Master"),e.qZA(),e.TgZ(19,"p-inplace",52),e.YNc(20,j,2,1,"ng-template",47),e.YNc(21,K,1,2,"ng-template",28),e.qZA()(),e.TgZ(22,"div",48)(23,"label",53),e._uU(24,"Primary Developer"),e.qZA(),e.TgZ(25,"p-inplace",54),e.YNc(26,z,2,1,"ng-template",47),e.YNc(27,$,1,2,"ng-template",28),e.qZA()(),e.TgZ(28,"div",48)(29,"label",55),e._uU(30,"Backup Resource"),e.qZA(),e.TgZ(31,"p-inplace",56),e.YNc(32,V,2,1,"ng-template",47),e.YNc(33,W,1,2,"ng-template",28),e.qZA()(),e.TgZ(34,"div",48)(35,"label",57),e._uU(36,"Point of Contact (Philips)"),e.qZA(),e.TgZ(37,"p-inplace",58),e.YNc(38,X,2,1,"ng-template",47),e.YNc(39,ee,1,2,"ng-template",28),e.qZA()(),e.TgZ(40,"div",48)(41,"label",59),e._uU(42,"Target Date"),e.qZA(),e.TgZ(43,"p-inplace",60),e.YNc(44,te,2,1,"ng-template",47),e.YNc(45,oe,1,3,"ng-template",28),e.qZA()()(),e.TgZ(46,"div",61)(47,"button",62),e.NdJ("click",function(l){e.CHM(t);const p=e.oxw(),y=e.MAs(20);return e.KtG(p.insertMsDB(l,y))}),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("ngIf",t.visibleProgressBar),e.xp6(7),e.Q6J("closable",!0)("active",null==t.fetchedMicroservice.name),e.xp6(6),e.Q6J("active",null==t.fetchedMicroservice.techLead),e.xp6(6),e.Q6J("active",null==t.fetchedMicroservice.scrumMaster),e.xp6(6),e.Q6J("active",null==t.fetchedMicroservice.developer),e.xp6(6),e.Q6J("active",null==t.fetchedMicroservice.backup),e.xp6(6),e.Q6J("active",null==t.fetchedMicroservice.poc),e.xp6(6),e.Q6J("active",null==t.fetchedMicroservice.targetCompletionDate),e.xp6(4),e.Q6J("label",t.saveButtonText)}}const ie=function(){return{"font-size":"14px",height:"calc(100vh - 10rem)",overflow:"auto"}},le=function(){return{"font-size":"14px",height:"60vh",overflow:"auto"}},ce=function(){return{width:"40rem"}};class Z{constructor(o,t,i,l){this.addDataService=o,this.taskService=t,this.deploymentService=i,this.messageService=l,this.todayDate=new Date,this.mssubmitted=!1,this.msDialog=!0,this.saveButtonText="Save",this.visibleProgressBar=!1,this.fetchedMicroservice={},this.files=[],this.selectedPipeline="Select a pipeline",this.runs=[],this.selectedRunTimeline=[],this.items=[],this.populateAllDropdowns()}ngOnInit(){this.selectedPipelineDetails={_links:{web:{href:""}},configuration:{path:"",repository:{fullName:"Github Repository",connection:{id:"Connection ID",url:"URL"}}},id:"Pipeline ID"},this.home={icon:"pi pi-home",routerLink:"/deployment/builds"},this.deploymentService.getBuildFolders().subscribe(o=>this.handleResponse(o))}getConvertedDate(o){return new Date(o).toDateString()}handleResponse(o){this.files=o}populateAllDropdowns(){this.addDataService.fetchAllClients().subscribe(o=>this.allClients=o,o=>console.log(o)),this.addDataService.fetchAllDevelopers().subscribe(o=>this.allDevelopers=o,o=>console.log(o)),this.addDataService.fetchAllScrumMasters().subscribe(o=>this.allScrumMasters=o,o=>console.log(o)),this.addDataService.fetchAllTechLeads().subscribe(o=>this.allTechLeads=o,o=>console.log(o))}nodeSelect(o){let t=[];if(Number.isInteger(parseInt(o.node.data))){for(let i=0;i<o.node.path.length;i++)t.push({label:o.node.path[i]});this.selectedPipeline=o.node.label,t.push({label:this.selectedPipeline}),this.items=t,this.deploymentService.getRunsFromPipelineID(o.node.data).subscribe(i=>this.runs=i),this.deploymentService.getPipelineDetails(o.node.data).subscribe(i=>{i.configuration.repository.connection.url="https://github.com/"+i.configuration.repository.fullName,this.selectedPipelineDetails=i})}}onTabClose(o){}onTabOpen(o){this.selectedRun=this.runs[o.index],this.deploymentService.getTimelineFromBuildID(this.selectedRun.id,this.selectedRun.name).subscribe(t=>{console.log(t),this.selectedRunTimeline=t})}setSeverity(o){return"succeeded"==o.result?"success":"danger"}openRun(o){window.open(o.url,"_blank")}insertMsDB(o,t){this.visibleProgressBar=!0,this.fetchedMicroservice.techLeadID=this.fetchedMicroservice.techLead.id,this.fetchedMicroservice.scrumMasterID=this.fetchedMicroservice.scrumMaster.id,this.fetchedMicroservice.developerID=this.fetchedMicroservice.developer.id,this.fetchedMicroservice.backupID=this.fetchedMicroservice.backup.id,this.fetchedMicroservice.pocID=this.fetchedMicroservice.poc.id,this.fetchedMicroservice.targetCompletionDate=this.fetchedMicroservice.targetCompletionDate,this.deploymentService.addMicroserviceInDB(this.fetchedMicroservice,this.selectedPipelineDetails.id).subscribe(i=>{console.log(i),this.overlayToggle(o,t),this.visibleProgressBar=!1,this.messageService.add({severity:"success",summary:"Updated",detail:"Record updated for microservice "+i.name})},i=>{console.log(i),this.overlayToggle(o,t),this.visibleProgressBar=!1,this.messageService.add({severity:"error",summary:i.statusText,detail:i.message})})}fetchMS(){let o=this.selectedPipelineDetails.name;o=o.toLowerCase().replace("-cd",""),this.msDialog=!0,this.mssubmitted=!0,this.taskService.getMicroservicesByName(o).subscribe(t=>{console.log(t),t&&null!=t?(this.saveButtonText="Update",this.fetchedMicroservice=t):(this.saveButtonText="Save",this.fetchedMicroservice={},this.fetchedMicroservice.name=o)},t=>{})}overlayToggle(o,t){t.toggle(o),this.fetchMS()}generateDocument(o){let t="assets/itaap-ms-manager/templates/"+o+".xlsx",i=this.selectedPipelineDetails.name,l=this.selectedPipelineDetails.name.toLowerCase().replace("-cd",""),p=this.selectedPipelineDetails.name.split("-")[1];this.deploymentService.readExcel(t,{TYPE:o,MICROSERVICE_CD_NAME:i,MICROSERVICE_NAME:l,BUILD_NUMBER:this.selectedRun.name,PLATFORM_NAME:p})}}Z.\u0275fac=function(o){return new(o||Z)(e.Y36(_.e),e.Y36(D.C),e.Y36(f.L),e.Y36(g.ez))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["ng-component"]],features:[e._Bn([g.ez])],decls:22,vars:23,consts:[[1,"grid"],[1,"col-12","lg:col-6","xl:col-3"],["filterMode","lenient","selectionMode","single",3,"selection","filter","value","selectionChange","onNodeSelect"],[1,"col-12","lg:col-6","xl:col-9"],["styleClass","mb-3",3,"model","home"],[1,"col-md-12"],["styleClass","mb-3",3,"header"],[1,"flex","justify-content-between","align-items-center"],[1,"container-fluid"],["icon","pi pi-hashtag","pTooltip","Pipeline ID","tooltipPosition","bottom","styleClass","mr-2 mb-2","severity","info",3,"value"],["icon","pi pi-link","pTooltip","Connection ID","tooltipPosition","bottom","styleClass","mr-2 mb-2","severity","warning",3,"value"],["target","_blank",2,"text-decoration","none",3,"href"],["icon","pi pi-github","pTooltip","GitHub Repository","tooltipPosition","bottom","styleClass","mr-2 mb-2","severity","success",3,"value"],["icon","pi pi-external-link","pTooltip","GitHub Repository","tooltipPosition","bottom","value","Go to Pipeline","severity","danger"],["class","align-items-center",4,"ngIf"],[3,"onClose","onOpen"],[3,"header",4,"ngFor","ngForOf"],[3,"showCloseIcon"],["op",""],["pTemplate",""],[1,"align-items-center"],["type","button","icon","pi pi-refresh","pButton","","label","Update Record",1,"p-button-sm",3,"click"],[3,"header"],[1,"grid","p-fluid"],[1,"col-6"],[1,"flex","justify-content-between"],[3,"value"],["pTemplate","marker"],["pTemplate","content"],["pTemplate","opposite"],["layout","vertical"],[1,"col-6","card","p-5",2,"border-style","dashed","align-self","center"],[1,"col"],[1,"mb-5",2,"text-align-last","center"],[1,"text-2xl","font-semibold"],["pButton","","label","IQ",1,"mb-2","mr-2",3,"click"],["pButton","","label","IQ Verify",1,"mb-2",3,"click"],["pButton","","label","PIQ",1,"mb-2","mr-2",3,"click"],["pButton","","label","PIQ verify",1,"mb-2",3,"click"],[1,"custom-marker","shadow-2"],["tooltipPosition","bottom",3,"ngClass","pTooltip"],[2,"font-size","small"],["mode","indeterminate",3,"style",4,"ngIf"],[1,"mt-2","grid","p-fluid","formgrid"],[1,"col-12","field"],["htmlFor","msname"],["id","msname","closeIcon","pi pi-check","pTooltip","Click to edit","tooltipPosition","top",3,"closable","active"],["pTemplate","display"],[1,"col-12","md:col-6","field"],["htmlFor","techlead"],["id","techlead","closeIcon","pi pi-check","pTooltip","Click to edit","tooltipPosition","top",3,"active"],["htmlFor","scrum"],["id","scrum","closeIcon","pi pi-check","pTooltip","Click to edit","tooltipPosition","top",3,"active"],["htmlFor","dev"],["id","dev","closeIcon","pi pi-check","pTooltip","Click to edit","tooltipPosition","top",3,"active"],["htmlFor","backup"],["id","backup","closeIcon","pi pi-check","pTooltip","Click to edit","tooltipPosition","top",3,"active"],["htmlFor","poc"],["id","poc","closeIcon","pi pi-check","pTooltip","Click to edit","tooltipPosition","top",3,"active"],["htmlFor","targetDate"],["id","targetDate","closeIcon","pi pi-check","pTooltip","Click to edit","tooltipPosition","top",3,"active"],[2,"text-align","right"],["type","button","icon","pi pi-save","pButton","",1,"p-button-success",3,"label","click"],["mode","indeterminate"],["pInputText","","type","text","placeholder","Microservice Name",3,"ngModel","ngModelChange"],["optionLabel","name","type","text","placeholder","Tech Lead",3,"options","ngModel","ngModelChange"],["optionLabel","name","type","text","placeholder","Scrum Master",3,"options","ngModel","ngModelChange"],["optionLabel","name","type","text","placeholder","Primary Developer",3,"options","ngModel","ngModelChange"],["optionLabel","name","type","text","placeholder","Backup Resource",3,"options","ngModel","ngModelChange"],["optionLabel","name","type","text","placeholder","Point of Contact",3,"options","ngModel","ngModelChange"],["dateFormat","M dd, yy","placeholder","Target Date","inputId","dateformat",3,"minDate","showIcon","ngModel","ngModelChange"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"p-toast"),e.TgZ(2,"div",1)(3,"p-tree",2),e.NdJ("selectionChange",function(l){return t.selectedNode=l})("onNodeSelect",function(l){return t.nodeSelect(l)}),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"p-breadcrumb",4),e.TgZ(6,"div",5)(7,"p-card",6)(8,"div",7)(9,"div",8),e._UZ(10,"p-tag",9)(11,"p-tag",10),e.TgZ(12,"a",11),e._UZ(13,"p-tag",12),e.qZA(),e.TgZ(14,"a",11),e._UZ(15,"p-tag",13),e.qZA()(),e.YNc(16,R,2,0,"div",14),e.qZA()()(),e.TgZ(17,"p-accordion",15),e.NdJ("onClose",function(l){return t.onTabClose(l)})("onOpen",function(l){return t.onTabOpen(l)}),e.YNc(18,F,21,2,"p-accordionTab",16),e.qZA()()(),e.TgZ(19,"p-overlayPanel",17,18),e.YNc(21,ne,48,10,"ng-template",19),e.qZA()),2&o&&(e.xp6(3),e.Akn(e.DdM(20,ie)),e.Q6J("selection",t.selectedNode)("filter",!0)("value",t.files),e.xp6(2),e.Q6J("model",t.items)("home",t.home),e.xp6(2),e.Q6J("header",t.selectedPipeline),e.xp6(3),e.s9C("value",t.selectedPipelineDetails.id),e.xp6(1),e.s9C("value",t.selectedPipelineDetails.configuration.repository.connection.id),e.xp6(1),e.s9C("href",t.selectedPipelineDetails.configuration.repository.connection.url,e.LSH),e.xp6(1),e.s9C("value",t.selectedPipelineDetails.configuration.repository.fullName),e.xp6(1),e.s9C("href",t.selectedPipelineDetails._links.web.href,e.LSH),e.xp6(2),e.Q6J("ngIf",t.runs.length>0&&t.selectedPipelineDetails.configuration.path.includes("-CD")),e.xp6(1),e.Akn(e.DdM(21,le)),e.xp6(1),e.Q6J("ngForOf",t.runs),e.xp6(1),e.Akn(e.DdM(22,ce)),e.Q6J("showCloseIcon",!0))},dependencies:[m.mk,m.sg,m.O5,v.Fj,v.JJ,v.On,T.Z,g.jx,c.f,a.Hq,u.u,r.o,d.i,P.FN,A.T,x.k,w.V,b.Lt,h.T,S.mp,k.a,I.UQ,I.US,E.$x],encapsulation:2});const se=[{path:"",component:Z}];class M{}M.\u0275fac=function(o){return new(o||M)},M.\u0275mod=e.oAB({type:M}),M.\u0275inj=e.cJS({imports:[C.Bz.forChild(se),C.Bz]})},4327:function(N,B){var g;void 0!==(g=function(){"use strict";function _(c,a,u){var r=new XMLHttpRequest;r.open("GET",c),r.responseType="blob",r.onload=function(){T(r.response,a,u)},r.onerror=function(){console.error("could not download file")},r.send()}function D(c){var a=new XMLHttpRequest;a.open("HEAD",c,!1);try{a.send()}catch{}return 200<=a.status&&299>=a.status}function f(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(a)}}var m="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,v=m.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),T=m.saveAs||("object"!=typeof window||window!==m?function(){}:"download"in HTMLAnchorElement.prototype&&!v?function(c,a,u){var r=m.URL||m.webkitURL,d=document.createElement("a");d.download=a=a||c.name||"download",d.rel="noopener","string"==typeof c?(d.href=c,d.origin===location.origin?f(d):D(d.href)?_(c,a,u):f(d,d.target="_blank")):(d.href=r.createObjectURL(c),setTimeout(function(){r.revokeObjectURL(d.href)},4e4),setTimeout(function(){f(d)},0))}:"msSaveOrOpenBlob"in navigator?function(c,a,u){if(a=a||c.name||"download","string"!=typeof c)navigator.msSaveOrOpenBlob(function e(c,a){return typeof a>"u"?a={autoBom:!1}:"object"!=typeof a&&(console.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\ufeff",c],{type:c.type}):c}(c,u),a);else if(D(c))_(c,a,u);else{var r=document.createElement("a");r.href=c,r.target="_blank",setTimeout(function(){f(r)})}}:function(c,a,u,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof c)return _(c,a,u);var d="application/octet-stream"===c.type,P=/constructor/i.test(m.HTMLElement)||m.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent);if((A||d&&P||v)&&typeof FileReader<"u"){var x=new FileReader;x.onloadend=function(){var h=x.result;h=A?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},x.readAsDataURL(c)}else{var w=m.URL||m.webkitURL,b=w.createObjectURL(c);r?r.location=b:location.href=b,r=null,setTimeout(function(){w.revokeObjectURL(b)},4e4)}});m.saveAs=T.saveAs=T,N.exports=T}.apply(B,[]))&&(N.exports=g)}}]);